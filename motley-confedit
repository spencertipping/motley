#!/bin/bash
# Motley config file editing interface
motley_defmodule confedit <<'EOF'
Config file editing functions
A set of functions used by other motley modules to edit dotfiles. This
interface is safer than doing it otherwise, as it makes sure the dotfiles have
"generated by motley" markers before changing them.

Here's an example motley command that uses this interface to echo each machine
it encounters from your ~/.bashrc:

  motley_defcommand echo <<'EOF'
  This is a useless and horrible command
  EOF
  motley_conf_echo_init() {
    motley_confedit motley_echo_bashrc ~/.bashrc
  }
  motley_conf_other_echo() {
    local machine_key=$1
    echo "echo $machine_key" >> $motley_echo_bashrc
  }
  motley_conf_echo_end() {
    motley_confedit_commit motley_echo_bashrc
  }
EOF

motley_confedit() {
  echo TODO: confedit
}

motley_confedit_commit() {
  echo TODO: confedit_commit
}
